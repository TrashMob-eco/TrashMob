<?xml version="1.0" encoding="utf-8"?>

<ContentPage x:Class="TrashMobMobile.Pages.CreateEventPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:TrashMobMobile.ViewModels"
             Shell.NavBarIsVisible="False"
             x:DataType="viewModels:CreateEventViewModel"
             Title="Create Event">
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style
                x:Key="BoxLabelStyle"
                TargetType="BoxView">
                <Setter Property="Margin"
                        Value="3,0" />
                <Setter Property="HeightRequest" Value="4" />
                <Setter Property="CornerRadius" Value="2" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>
    <Grid Margin="16" RowDefinitions="Auto,*,Auto">
        <StackLayout Spacing="0">
            <Grid ColumnDefinitions="Auto, *" Margin="0,12,0,8">
                <ImageButton Grid.Column="0"
                             Command="{Binding CloseCommand}"
                             HeightRequest="40"
                             WidthRequest="40"
                             VerticalOptions="Center">
                    <ImageButton.Source>
                        <FontImageSource
                            FontFamily="{StaticResource GoogleMaterialIcons}"
                            Glyph="{StaticResource IconClose}"
                            Size="24"
                            Color="{AppThemeBinding Light={StaticResource ContentPrimary}, Dark={StaticResource ContentPrimaryDark}}" />
                    </ImageButton.Source>
                </ImageButton>
                <Label Grid.Column="1"
                       Margin="8,0,0,0"
                       VerticalOptions="Center"
                       Text="{Binding StepTitle}"
                       FontFamily="LexendSemibold"
                       FontSize="20"
                       TextColor="{AppThemeBinding Light={StaticResource ContentPrimary}, Dark={StaticResource ContentPrimaryDark}}" />
            </Grid>
            <Grid ColumnDefinitions="*,*,*,*,*" ColumnSpacing="4" Margin="0,0,0,4">
                <BoxView BackgroundColor="{Binding StepOneColor}" Style="{StaticResource BoxLabelStyle}"
                         HeightRequest="5" CornerRadius="3" />
                <BoxView BackgroundColor="{Binding StepTwoColor}" Style="{StaticResource BoxLabelStyle}"
                         Grid.Column="1" HeightRequest="5" CornerRadius="3" />
                <BoxView BackgroundColor="{Binding StepFourColor}" Style="{StaticResource BoxLabelStyle}"
                         Grid.Column="2" HeightRequest="5" CornerRadius="3" />
                <BoxView BackgroundColor="{Binding StepFiveColor}" Style="{StaticResource BoxLabelStyle}"
                         Grid.Column="3" HeightRequest="5" CornerRadius="3" />
                <BoxView BackgroundColor="{Binding StepSixColor}" Style="{StaticResource BoxLabelStyle}"
                         Grid.Column="4" HeightRequest="5" CornerRadius="3" />
            </Grid>
        </StackLayout>

        <ContentView Grid.Row="1" x:Name="StepContent" Margin="0,10" Content="{Binding CurrentView}">
        </ContentView>
        <StackLayout Grid.Row="2" Orientation="Horizontal" HorizontalOptions="CenterAndExpand" Spacing="12">
            <Button Text="Previous"
                    Command="{Binding PreviousCommand}"
                    IsEnabled="{Binding CanGoBack}"
                    Style="{StaticResource SecondarySmallButton}"
                    ContentLayout="Left, 8"
                    ImageSource="{FontImageSource FontFamily=GoogleMaterialIcons, Glyph={DynamicResource IconArrowLeft}, Color={AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}}" />
            <Button Text="{Binding NextStepText}"
                    Command="{Binding NextCommand}"
                    IsEnabled="{Binding IsStepValid}"
                    Style="{StaticResource PrimarySmallButton}"
                    ContentLayout="Right, 8"
                    ImageSource="{FontImageSource FontFamily=GoogleMaterialIcons, Glyph={DynamicResource IconArrowRight}, Color={AppThemeBinding Light={StaticResource PrimaryReverseText}, Dark={StaticResource PrimaryDarkReverseText}}}" />
        </StackLayout>
    </Grid>
</ContentPage>