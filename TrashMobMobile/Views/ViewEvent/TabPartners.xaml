<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:TrashMobMobile.ViewModels"
             x:Class="TrashMobMobile.Views.ViewEvent.TabPartners">
    <Grid RowDefinitions="*">
        <!-- Empty state -->
        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center"
                             Spacing="8" Margin="20"
                             IsVisible="{Binding AreNoPartnersAvailable}">
            <Image MaximumWidthRequest="32" MaximumHeightRequest="32"
                   HorizontalOptions="Center">
                <Image.Source>
                    <FontImageSource FontFamily="{StaticResource GoogleMaterialIcons}"
                                     Glyph="{StaticResource IconHandshake}"
                                     Size="32"
                                     Color="{AppThemeBinding Light={StaticResource MutedForegroundLight}, Dark={StaticResource MutedForegroundDark}}" />
                </Image.Source>
            </Image>
            <Label Text="No partners assigned to this event"
                   FontSize="Small"
                   HorizontalTextAlignment="Center"
                   TextColor="{AppThemeBinding Light={StaticResource MutedForegroundLight}, Dark={StaticResource MutedForegroundDark}}" />
        </VerticalStackLayout>

        <!-- Partner list -->
        <CollectionView x:Name="AvailableEventPartners"
                        ItemsSource="{Binding AvailablePartners}"
                        SelectionMode="None"
                        IsVisible="{Binding ArePartnersAvailable}">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="viewModels:EventPartnerLocationViewModel">
                    <Border Style="{StaticResource RoundBorder}" Margin="5,3">
                        <VerticalStackLayout Spacing="4" Padding="10,8">
                            <Label Text="{Binding PartnerLocationName}"
                                   FontFamily="LexendSemibold"
                                   FontSize="Small" />
                            <Label Text="{Binding PartnerLocationNotes}"
                                   FontSize="Micro"
                                   TextColor="{AppThemeBinding Light={StaticResource MutedForegroundLight}, Dark={StaticResource MutedForegroundDark}}" />
                            <HorizontalStackLayout Spacing="4">
                                <Label Text="Services:"
                                       FontSize="Micro"
                                       TextColor="{AppThemeBinding Light={StaticResource MutedForegroundLight}, Dark={StaticResource MutedForegroundDark}}" />
                                <Label Text="{Binding PartnerServicesEngaged}"
                                       FontSize="Micro" />
                            </HorizontalStackLayout>
                        </VerticalStackLayout>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentView>
